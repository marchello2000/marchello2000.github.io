<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Salary Calculator</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"/>
    </head>
    <body>
        <div class="card border-light mb-3">
        <div class="card-header border-light text-success">Compensation</div>
        <div class="card-body">

        <div class="card-deck">
            <div class="card border-white mb-3" style="max-width: 22rem;">
                <h5 class="card-title text-muted">Cash component</h5>
                <div class="card-body text-primary p-0">
                    <div data-bind="foreach: cashInputFields">
                        <!-- ko if: (type !== '-') -->
                        <div class="input-group my-1">
                            <div class="input-group-prepend">
                                <span class="input-group-text font-weight-bold" style="width: 170px" data-bind="text: text"></span>
                            </div>
                            <!-- ko if: (type === '$') -->
                                <input type="text" class="form-control" data-bind="money: value"/>
                            <!-- /ko -->
                            <!-- ko if: (type === '%') -->
                                <input type="text" class="form-control" data-bind="percent: value"/>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                        <!-- ko if: (type === '-') -->
                            <div style="height: 10px"></div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <div class="card border-white mb-3" style="max-width: 22rem;">
                <h5 class="card-title text-muted">Equity component</h5>
                <div class="card-body text-primary p-0">
                    <div data-bind="foreach: equityInputFields">
                        <!-- ko if: (type !== '-') -->
                        <div class="input-group my-1">
                            <div class="input-group-prepend">
                                <span class="input-group-text font-weight-bold" style="width: 170px" data-bind="text: text"></span>
                            </div>
                            <!-- ko if: (type === '$') -->
                                <input type="text" class="form-control" data-bind="money: value, disable: readonly"/>
                            <!-- /ko -->
                            <!-- ko if: (type === '%') -->
                                <input type="text" class="form-control" data-bind="percent: value, disable: readonly"/>
                            <!-- /ko -->
                            <!-- ko if: (type === '0') -->
                                <input type="text" class="form-control" data-bind="bigNumber: value, disable: readonly"/>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                        <!-- ko if: (type === '-') -->
                            <div style="height: 10px"></div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
        </div>
        </div>

        <div class="card border-light mb-3">
            <div class="card-header border-light text-success">Tax liability</div>
            <div class="card-body">
                <div class="input-group my-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text font-weight-bold" style="width: 170px">Tax deduction</span>
                    </div>
                    <input type="text" class="form-control" data-bind="money: taxDeduction"/>
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button" data-bind="click: setDefaultDeduction">Standard</button>
                    </div>
                </div>

                <!-- <div class="input-group my-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text font-weight-bold" style="width: 170px">SALT deduction</span>
                    </div>
                    <input type="text" class="form-control" data-bind="money: saltDeduction"/>
                </div> -->

                <div class="input-group my-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text font-weight-bold" style="width: 170px">Tax bracket</span>
                    </div>
                    <input type="text" class="form-control" data-bind="percent: taxBracket"/>
                    <div class="input-group-append">
                        <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <div class="dropdown-menu" data-bind="foreach: taxBrackets">
                            <a class="dropdown-item" href="javascript:void(0);" data-bind="click: $parent.taxBracketSelected,
                                                                                           text: text"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card border-light mb-3">
            <div class="card-header border-light text-success">Annual total compensation calculation</div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr class="table-success">
                                <th scope="col">Cash compensation</th>
                                <th scope="col">Year 1</th>
                                <th scope="col">Year 2</th>
                                <th scope="col">Year 3</th>
                                <th scope="col">Year 4</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr class="table-borderless">
                                <th scope="row">Base salary</th>
                                <td data-bind="money: years()[0].baseSalary"></td>
                                <td data-bind="money: years()[1].baseSalary"></td>
                                <td data-bind="money: years()[2].baseSalary"></td>
                                <td data-bind="money: years()[3].baseSalary"></td>
                            </tr>
                
                            <tr class="table-borderless">
                                <th scope="row">Bonus</th>
                                <td data-bind="money: years()[0].bonus"></td>
                                <td data-bind="money: years()[1].bonus"></td>
                                <td data-bind="money: years()[2].bonus"></td>
                                <td data-bind="money: years()[3].bonus"></td>
                            </tr>
                
                
                            <tr class="table-borderless">
                                <th scope="row">Other</th>
                                <td data-bind="money: years()[0].other"></td>
                                <td data-bind="money: years()[1].other"></td>
                                <td data-bind="money: years()[2].other"></td>
                                <td data-bind="money: years()[3].other"></td>
                            </tr>
                
                
                            <tr class="table-borderless">
                                <th scope="row">401k match</th>
                                <td data-bind="money: years()[0].retirementMatch"></td>
                                <td data-bind="money: years()[1].retirementMatch"></td>
                                <td data-bind="money: years()[2].retirementMatch"></td>
                                <td data-bind="money: years()[3].retirementMatch"></td>
                            </tr>

                            <tr class="table-borderless">
                                <th><br/></th>
                            </tr>

                            <tr class="table-borderless">
                                <th scope="row">Total gross cash</th>
                                <td data-bind="money: years()[0].totalGross"></td>
                                <td data-bind="money: years()[1].totalGross"></td>
                                <td data-bind="money: years()[2].totalGross"></td>
                                <td data-bind="money: years()[3].totalGross"></td>
                            </tr>

                            <tr class="table-borderless">
                                <th><br/></th>
                            </tr>

                            <tr class="table-borderless">
                                <th scope="row">Tax *</th>
                                <td class="text-danger" data-bind="money: years()[0].tax"></td>
                                <td class="text-danger" data-bind="money: years()[1].tax"></td>
                                <td class="text-danger" data-bind="money: years()[2].tax"></td>
                                <td class="text-danger" data-bind="money: years()[3].tax"></td>
                            </tr>
                            <tr>
                                <th scope="row">Total net</th>
                                <td><strong data-bind="money: years()[0].totalNet"></strong></td>
                                <td><strong data-bind="money: years()[1].totalNet"></strong></td>
                                <td><strong data-bind="money: years()[2].totalNet"></strong></td>
                                <td><strong data-bind="money: years()[3].totalNet"></strong></td>
                            </tr>
                            <tr>
                                <th><br/></th>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                        <thead>
                            <tr class="table-success">
                                <th scope="col">Equity</th>
                                <th scope="col">Year 1</th>
                                <th scope="col">Year 2</th>
                                <th scope="col">Year 3</th>
                                <th scope="col">Year 4</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr class="table-borderless">
                                <th scope="row">Shares vested</th>
                                <td data-bind="text: years()[0].equityVested"></td>
                                <td data-bind="text: years()[1].equityVested"></td>
                                <td data-bind="text: years()[2].equityVested"></td>
                                <td data-bind="text: years()[3].equityVested"></td>
                            </tr>
                
                            <tr class="table-borderless">
                                <th scope="row">Cash to exercise</th>
                                <td data-bind="money: years()[0].equityCost"></td>
                                <td data-bind="money: years()[1].equityCost"></td>
                                <td data-bind="money: years()[2].equityCost"></td>
                                <td data-bind="money: years()[3].equityCost"></td>
                            </tr>
                
                
                            <tr class="table-borderless">
                                <th scope="row">Profit @exit</th>
                                <td data-bind="money: years()[0].equityGrossProfit"></td>
                                <td data-bind="money: years()[1].equityGrossProfit"></td>
                                <td data-bind="money: years()[2].equityGrossProfit"></td>
                                <td data-bind="money: years()[3].equityGrossProfit"></td>
                            </tr>
                
                            <tr class="table-borderless">
                                <th><br/></th>
                            </tr>
                  
                            <tr class="table-borderless">
                                <th scope="row">Tax on profit *</th>
                                <td class="text-danger" data-bind="money: years()[0].equityTax"></td>
                                <td class="text-danger" data-bind="money: years()[1].equityTax"></td>
                                <td class="text-danger" data-bind="money: years()[2].equityTax"></td>
                                <td class="text-danger" data-bind="money: years()[3].equityTax"></td>
                            </tr>

                            <tr >
                                <th scope="row">Net profit</th>
                                <td><strong data-bind="money: years()[0].equityNetProfit"></strong></td>
                                <td><strong data-bind="money: years()[1].equityNetProfit"></strong></td>
                                <td><strong data-bind="money: years()[2].equityNetProfit"></strong></td>
                                <td><strong data-bind="money: years()[3].equityNetProfit"></strong></td>
                            </tr>

                            <tr class="table-borderless">
                                <th><br/></th>
                            </tr>

                            <tr >
                                <th scope="row">"Total comp"</th>
                                <td><strong data-bind="money: years()[0].totalComp"></strong></td>
                                <td><strong data-bind="money: years()[1].totalComp"></strong></td>
                                <td><strong data-bind="money: years()[2].totalComp"></strong></td>
                                <td><strong data-bind="money: years()[3].totalComp"></strong></td>
                            </tr>
                            <tr>
                                <th><br/></th>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="built/SalaryCalculator.js"></script>
    </body>
</html>